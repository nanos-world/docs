"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[2182],{28453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>i});var r=o(96540);const n={},s=r.createContext(n);function a(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),r.createElement(s.Provider,{value:t},e.children)}},52404:(e,t,o)=>{o.d(t,{A:()=>r});const r=o.p+"assets/images/fireworks-01-255f3c3c47f310db043f12ac9c41fe0a.webp"},52953:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"getting-started/tutorials-and-examples/fireworks","title":"Fireworks","description":"How to create a Firework-shooter weapon using the Fireworks Particle Effects Asset Pack from our Vault!","source":"@site/docs/getting-started/tutorials-and-examples/fireworks.md","sourceDirName":"getting-started/tutorials-and-examples","slug":"/getting-started/tutorials-and-examples/fireworks","permalink":"/docs/next/getting-started/tutorials-and-examples/fireworks","draft":false,"unlisted":false,"editUrl":"https://github.com/nanos-world/docs/edit/master/docs/getting-started/tutorials-and-examples/fireworks.md","tags":[{"inline":true,"label":"tutorial-example","permalink":"/docs/next/tags/tutorial-example"},{"inline":true,"label":"scripting","permalink":"/docs/next/tags/scripting"},{"inline":true,"label":"assets","permalink":"/docs/next/tags/assets"}],"version":"current","lastUpdatedBy":"Gabriel Tanasovici Nardy","lastUpdatedAt":1755090988000,"frontMatter":{"title":"Fireworks","description":"How to create a Firework-shooter weapon using the Fireworks Particle Effects Asset Pack from our Vault!","tags":["tutorial-example","scripting","assets"]},"sidebar":"main","previous":{"title":"Doors","permalink":"/docs/next/getting-started/tutorials-and-examples/doors"},"next":{"title":"Gravity Gun","permalink":"/docs/next/getting-started/tutorials-and-examples/gravity-gun"}}');var n=o(74848),s=o(28453);const a={title:"Fireworks",description:"How to create a Firework-shooter weapon using the Fireworks Particle Effects Asset Pack from our Vault!",tags:["tutorial-example","scripting","assets"]},i=void 0,l={},c=[{value:"Configuring the Asset Pack",id:"configuring-the-asset-pack",level:3},{value:"Code Snippet",id:"code-snippet",level:3}];function d(e){const t={admonition:"admonition",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"How to create a Firework-shooter weapon using the Fireworks Particle Effects Asset Pack from our Vault!"}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:["We now have a ",(0,n.jsx)(t.strong,{children:"Fireworks Tools"})," Package available to download in the Vault which does exactly what this snippet do!"]})}),"\n",(0,n.jsxs)(t.p,{children:["First you will need to download the Asset Pack ",(0,n.jsx)(t.strong,{children:"Fireworks Particle Effects"})," from our Vault!"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:o(52404).A+"",width:"573",height:"438"})}),"\n",(0,n.jsx)(t.h3,{id:"configuring-the-asset-pack",children:"Configuring the Asset Pack"}),"\n",(0,n.jsxs)(t.p,{children:["After that you will need to add the requirement of this ",(0,n.jsx)(t.strong,{children:"Asset Pack"})," into your Package ",(0,n.jsx)(t.code,{children:"Config.toml"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-toml",metastring:'title="Config.toml"',children:'# Package Configurations\n[package]\n    # Package Name\n    name =                  "My Awesome Firework Package"\n    # Contributors\n    author =                "SyedMuhammad"\n    # Version\n    version =               "1.0.0"\n    # Image URL\n    image =                 "https://i.imgur.com/tQXi0xt.webp"\n    # Package Type: \'executable\' (normal package) | \'library\' (doesn\'t run - useful for code library)\n    type =                  "executable"\n    # Whether to force the Custom Map Script to do NOT load\n    force_no_map_script =   false\n    # Auto Destroy all entities spawned by this package when it unloads\n    auto_cleanup =          true\n    # Asset Packs Requirements\n    assets_requirements = [\n        "ts-fireworks",\n    ]\n'})}),"\n",(0,n.jsx)(t.h3,{id:"code-snippet",children:"Code Snippet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",metastring:'title="Terminal"',children:"# install the default-weapons package\n./NanosWorldServer.exe --cli install package default-weapons\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",metastring:'title="Server/Index.lua" showLineNumbers',children:"-- Loads the default-weapons (note: it's recommended to add it to your Package's packages_requirements instead)\nServer.LoadPackage(\"default-weapons\")\n\n-- Let's spawn a Glock from default-weapons package and set it to give no damage, this also avoids it from spawning a trail particle\nlocal weapon = Glock()\nweapon:SetDamage(0)\n\n-- Let's subscribe for 'Fire' event from this weapon, this will be triggered for every fire it shoots\nweapon:Subscribe(\"Fire\", function(weap, shooter)\n    -- We get the position at the front of the weapon\n    local control_rotation = shooter:GetControlRotation()\n    local forward_vector = control_rotation:GetForwardVector()\n    local spawn_location = shooter:GetLocation() + Vector(0, 0, 40) + forward_vector * Vector(400)\n\n    -- We will spawn an empty/invisible Prop, to be our projectile - using our Invisible mesh 'SM_None'\n    local prop = Prop(spawn_location, control_rotation, \"nanos-world::SM_None\")\n\n    -- Spawns the trail/shell particle, this particle is not auto destroyed as it should follow the projectile,\n    -- this way we must destroy it manually after all\n    -- The Asset Pack which we are using to get the particles contains two Shells: 'PS_TS_FireworksShell' and 'PS_TS_FireworksShell_Palm'\n    -- You can use the another one to get more cool effects!\n    local particle = Particle(Vector(), Rotator(), \"ts-fireworks::PS_TS_FireworksShell\", false, true)\n\n    -- Attaches the particle to the projectile prop\n    particle:AttachTo(prop)\n\n    -- Impulses the Projectile forward\n    prop:AddImpulse(forward_vector * Vector(50000), true)\n\n    -- Sets the shooter to be the Network Authority of this Projectile\n    -- This way only the shooter will be reponsible to handle the physics of this object\n    prop:SetNetworkAuthority(shooter:GetPlayer())\n\n    -- Calls the client to spawn the 'Launch' sound\n    Events.BroadcastRemote(\"SpawnFireworkSound\", particle)\n\n    -- After 500 miliseconds, explode the firework\n    Timer.SetTimeout(function(pr)\n        -- Calls the client to spawn the 'Explosion' sound at the projectile location\n        Events.BroadcastRemote(\"ExplodeFireworkSound\", pr:GetLocation())\n\n        -- Spawns the Particle Explosion.\n        -- This Asset Pack also contains the following Particles, feel free to try them!\n        -- 'PS_TS_Fireworks_Burst_Chrys', 'PS_TS_Fireworks_Burst_Circle', 'PS_TS_Fireworks_Burst_Palm',\n        -- 'PS_TS_Fireworks_Burst_Shaped' and 'PS_TS_Fireworks_Burst_ShellsWithinShells'\n        local particle_burst = Particle(pr:GetLocation(), Rotator(), \"ts-fireworks::PS_TS_Fireworks_Burst_Palm\", true, true)\n\n        -- Those particles make it available to tweak some of their properties, let's set the BlastColor to red\n        particle_burst:SetParameterColor(\"BlastColor\", Color(1, 0, 0))\n\n        -- Those particles exposes the following parameters:\n        --  Color: 'BurstColor', 'SparkleColor', 'FlareColor', 'TailColor'\n        --  bool: 'BlastSmoke', 'TailSmoke'\n        --  float: 'BurstMulti', 'SparkleMulti'\n    end, 500, prop)\n\n    -- After 1 second, destroy the particle and the projectile\n    prop:SetLifeSpan(1)\n    particle:SetLifeSpan(1)\nend)\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",metastring:'title="Client/Index.lua" showLineNumbers',children:'-- Subscribes to spawn and attach the Firework launch sound\nEvents.Subscribe("SpawnFireworkSound", function(firework)\n    local sound = Sound(Vector(), "ts-fireworks::A_Firework_Launch", false, true, SoundType.SFX, 1, 1, 400, 100000)\n    sound:AttachTo(firework)\nend)\n\n-- Subscribes to spawn the Firework explosion sound\nEvents.Subscribe("ExplodeFireworkSound", function(location)\n    Sound(location, "ts-fireworks::A_Firework_Explosion_Fizz", false, true, SoundType.SFX, 3, 1, 400, 100000)\nend)\n'})})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);