"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[39400],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},96219:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"core-concepts/server-manual/server-linux-arm","title":"Linux & ARM Server installation","description":"Special cases for some Linux os & ARM platform","source":"@site/docs/core-concepts/server-manual/server-linux-arm.md","sourceDirName":"core-concepts/server-manual","slug":"/core-concepts/server-manual/server-linux-arm","permalink":"/docs/next/core-concepts/server-manual/server-linux-arm","draft":false,"unlisted":false,"editUrl":"https://github.com/nanos-world/docs/edit/master/docs/core-concepts/server-manual/server-linux-arm.md","tags":[{"inline":true,"label":"hosting","permalink":"/docs/next/tags/hosting"}],"version":"current","lastUpdatedBy":"Gabriel Tanasovici Nardy","lastUpdatedAt":1758067973000,"sidebarPosition":5,"frontMatter":{"title":"Linux & ARM Server installation","description":"Special cases for some Linux os & ARM platform","sidebar_position":5,"tags":["hosting"]},"sidebar":"main","previous":{"title":"Game Panels","permalink":"/docs/next/core-concepts/server-manual/game-panels"},"next":{"title":"Packages Guide","permalink":"/docs/next/core-concepts/packages/packages-guide"}}');var r=t(74848),i=t(28453);const o={title:"Linux & ARM Server installation",description:"Special cases for some Linux os & ARM platform",sidebar_position:5,tags:["hosting"]},a=void 0,l={},d=[{value:"Linux Debian 11 Installation",id:"linux-debian-11-installation",level:2},{value:"With a Script",id:"with-a-script",level:3},{value:"Manually",id:"manually",level:3},{value:"Linux Ubuntu 20",id:"linux-ubuntu-20",level:2},{value:"Linux ARM (raspberry &amp; more)",id:"linux-arm-raspberry--more",level:2},{value:"Box86",id:"box86",level:3},{value:"Box64",id:"box64",level:3},{value:"Steam &amp; Server",id:"steam--server",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Special cases for some linux os & ARM platform server installation."}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"The installation on versions on and below Debian 12, Ubuntu 22 and ARM systems is not officially supported and currently maintained by the community! The following steps are WIP and may change at any time!"})}),"\n",(0,r.jsx)(n.h2,{id:"linux-debian-11-installation",children:"Linux Debian 11 Installation"}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"Please be careful with scripts and commands, do it at your own risk!"})}),"\n",(0,r.jsx)(n.p,{children:"If you are running debian 11 or older, please upgrade to debian 12 or change your operating system to at least Ubuntu 22.04.1 LTS"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["This will fix this type of error: ",(0,r.jsx)(n.code,{children:"version GLIBCXX 3.4.30 not found"})," or/and ",(0,r.jsx)(n.code,{children:"version GLIBC 2.34 not found"})]})}),"\n",(0,r.jsxs)(n.p,{children:["Since nanos world use ",(0,r.jsx)(n.code,{children:"gcc 11"}),", we will need to upgrade one of our package to the testing repository."]}),"\n",(0,r.jsx)(n.h3,{id:"with-a-script",children:"With a Script"}),"\n",(0,r.jsx)(n.p,{children:"You can run this script to install the required libraries, but please look at the script code to see what the script will do. (make sure you run it as root!)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"wget -O - https://raw.githubusercontent.com/Falaxir/nanos-world_yolks-game-panels/master/docker-oses/debian/fixglibcxx.sh | bash\n"})}),"\n",(0,r.jsx)(n.h3,{id:"manually",children:"Manually"}),"\n",(0,r.jsxs)(n.p,{children:["First, update your ",(0,r.jsx)(n.code,{children:"sources.list"})," file (located in: ",(0,r.jsx)(n.code,{children:"/etc/apt/sources.list"}),"), you will need to add the testing repo source, you can add theses lines below to your sources:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"deb http://ftp.fr.debian.org/debian/ testing main contrib non-free\ndeb-src http://ftp.fr.debian.org/debian/ testing main contrib non-free\n"})}),"\n",(0,r.jsxs)(n.p,{children:["After that, we will need to create a ",(0,r.jsx)(n.code,{children:"preferences"})," file that will tell our system to not prefer installing testing package over stable unless specified. In ",(0,r.jsx)(n.code,{children:"/etc/apt/preferences"})," (create if it doesn\u2019t exists), add theses lines:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"Package: *\nPin: release a=stable\nPin-Priority: 900\n\nPackage: *\nPin: release a=testing\nPin-Priority: 400\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now, update your server to make sure that your system can find testing repositories with this command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"sudo apt update\n"})}),"\n",(0,r.jsxs)(n.p,{children:["We will install ",(0,r.jsx)(n.code,{children:"libstdc++6"})," testing package to the server, it will allow the server to start correctly. You can type the command below to install it:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"sudo apt-get --target-release testing install libstdc++6\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"Finished! You can now proceed to the next steps to configure your nanos world server."})}),"\n",(0,r.jsx)(n.h2,{id:"linux-ubuntu-20",children:"Linux Ubuntu 20"}),"\n",(0,r.jsx)(n.p,{children:"Ubuntu 20 doesn't have the latest libraries, and so, nanos world is not supported for this and older ubuntu operating systems."}),"\n",(0,r.jsx)(n.p,{children:"It will be easier to upgrade your server to ubuntu 22 than to make the nanos world server work on ubuntu 20"}),"\n",(0,r.jsxs)(n.p,{children:["There is a lot of guides like ",(0,r.jsx)(n.a,{href:"https://jumpcloud.com/blog/how-to-upgrade-ubuntu-20-04-to-ubuntu-22-04",children:"this one"})," for the steps of how to upgrade your server."]}),"\n",(0,r.jsx)(n.h2,{id:"linux-arm-raspberry--more",children:"Linux ARM (raspberry & more)"}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"EXPERIMENTAL: Use at your own risk!"})}),"\n",(0,r.jsx)(n.p,{children:"Nanos world server is not officially supported on Arm, but if you really really really want your server to be running on arm platform such as a raspberry, rockpro64, ... then you can!"}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"This guide on ARM has been tested and partially working on older nanos world server (before the migration from gcc 9 to gcc 11 on november 2022) and is probably outdated!"})}),"\n",(0,r.jsx)(n.p,{children:"We will need 2 emulators:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["box64 for Nanos World server : ",(0,r.jsx)(n.a,{href:"https://github.com/ptitSeb/box64",children:"https://github.com/ptitSeb/box64"})]}),"\n",(0,r.jsxs)(n.li,{children:["box86 for steam : ",(0,r.jsx)(n.a,{href:"https://github.com/ptitSeb/box86",children:"https://github.com/ptitSeb/box86"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You must build & install these emulators on your board.\nbox86 is optional if you don't want to use steamcmd to download & update the server"}),"\n",(0,r.jsx)(n.p,{children:"Follow CAREFULLY the instructions on the emulators repository, commands are different in function of the board."}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"RK3399 is for Pine64, RockPro64, Orange Pi, ..."}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"These steps have been tested on Armbian Bullseye 64bits (aarch64) on a rockpro64. Some extra steps might be required for other boards & distros"})}),"\n",(0,r.jsx)(n.h3,{id:"box86",children:"Box86"}),"\n",(0,r.jsxs)(n.p,{children:["To install it, simply follow the instructions here: ",(0,r.jsx)(n.a,{href:"https://github.com/ptitSeb/box86/blob/master/docs/COMPILE.md",children:"https://github.com/ptitSeb/box86/blob/master/docs/COMPILE.md"})]}),"\n",(0,r.jsx)(n.p,{children:"If for some reason, your system cannot find Box86 and you are on a 64bits os, run theses commands:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo dpkg --add-architecture armhf\nsudo apt update\nsudo apt install libc6:armhf libncurses5:armhf libstdc++6:armhf\n"})}),"\n",(0,r.jsx)(n.h3,{id:"box64",children:"Box64"}),"\n",(0,r.jsxs)(n.p,{children:["Clone the repository, then we will need to replace the file ",(0,r.jsx)(n.code,{children:"libstdc++.so.6"})," inside the folder ",(0,r.jsx)(n.code,{children:"x64lib"}),".\nYou will need a newer version of this file with at least ",(0,r.jsx)(n.code,{children:"GLIBCXX v3.4.26"}),".\nYou can grab it inside an updated Linux distro such as Ubuntu 20.04, Debian 11.\nTo check if the file has at least ",(0,r.jsx)(n.code,{children:"GLIBCXX v3.4.26"}),", use this command :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"strings libstdc++.so.6 | grep LIBCXX\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If it shows ",(0,r.jsx)(n.code,{children:"GLIBCXX v3.4.26"}),", you can put this file inside ",(0,r.jsx)(n.code,{children:"x64lib"})," folder."]}),"\n",(0,r.jsxs)(n.p,{children:["You can now follow the rest of the instructions here (starting from ",(0,r.jsx)(n.code,{children:"mkdir"})," steps since you already cloned the repo): ",(0,r.jsx)(n.a,{href:"https://github.com/ptitSeb/box64/blob/main/docs/COMPILE.md",children:"https://github.com/ptitSeb/box64/blob/main/docs/COMPILE.md"})]}),"\n",(0,r.jsx)(n.h3,{id:"steam--server",children:"Steam & Server"}),"\n",(0,r.jsx)(n.p,{children:"You have now installed the emulators, they should be able to auto-detect if a program needs a x86_64/x86 emulation or not."}),"\n",(0,r.jsx)(n.p,{children:"Get steamcmd manually on a folder with this command :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'curl -sqL "https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz" | tar zxvf -\n'})}),"\n",(0,r.jsxs)(n.p,{children:["You can now follow the basic instructions of nanos world Linux installation starting from steamcmd (run steamcmd with this command: ",(0,r.jsx)(n.code,{children:"./steamcmd.sh"}),")."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"Finished! You can now proceed to the next steps to configure your nanos world server."})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);