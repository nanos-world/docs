"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[8023],{17390:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"core-concepts/scripting/communicating-between-packages","title":"Communication entre Packages","description":"Tout ce que vous avez besoin de savoir pour communiquer entre diff\xe9rents Packages","source":"@site/i18n/fr/docusaurus-plugin-content-docs/version-latest/core-concepts/scripting/communicating-between-packages.md","sourceDirName":"core-concepts/scripting","slug":"/core-concepts/scripting/communicating-between-packages","permalink":"/fr/docs/core-concepts/scripting/communicating-between-packages","draft":false,"unlisted":false,"editUrl":"https://crowdin.com/project/nanos-world-docs/fr","tags":[{"inline":true,"label":"scripting","permalink":"/fr/docs/tags/scripting"}],"version":"latest","sidebarPosition":3,"frontMatter":{"title":"Communication entre Packages","description":"Tout ce que vous avez besoin de savoir pour communiquer entre diff\xe9rents Packages","sidebar_position":3,"tags":["scripting"]},"sidebar":"main","previous":{"title":"Authority Concepts","permalink":"/fr/docs/core-concepts/scripting/authority-concepts"},"next":{"title":"Valeurs des entit\xe9s","permalink":"/fr/docs/core-concepts/scripting/entity-values"}}');var a=t(74848),r=t(28453);const s={title:"Communication entre Packages",description:"Tout ce que vous avez besoin de savoir pour communiquer entre diff\xe9rents Packages",sidebar_position:3,tags:["scripting"]},i=void 0,c={},l=[{value:"\xc9v\xe9nements personnalis\xe9s",id:"\xe9v\xe9nements-personnalis\xe9s",level:2},{value:"Communiquer avec les Packages du m\xeame c\xf4t\xe9",id:"communiquer-avec-les-packages-du-m\xeame-c\xf4t\xe9",level:3},{value:"Envoi de donn\xe9es via le r\xe9seau",id:"envoi-de-donn\xe9es-via-le-r\xe9seau",level:3},{value:"Exporting Variables Globally",id:"exporting-variables-globally",level:2},{value:"Exportation d&#39;une Fonction",id:"exportation-dune-fonction",level:3},{value:"Appel d&#39;une Fonction Export\xe9e depuis un autre Package",id:"appel-dune-fonction-export\xe9e-depuis-un-autre-package",level:3}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components},{MethodReference:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("MethodReference",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Tout ce que vous avez besoin de savoir pour communiquer entre diff\xe9rents Packages"}),"\n",(0,a.jsxs)(n.p,{children:["In nanos world there are 2 main ways which you can interact with other ",(0,a.jsx)(n.strong,{children:"Packages"}),". Dans cette page, nous vous expliquerons en d\xe9tail comment faire."]}),"\n",(0,a.jsx)(n.h2,{id:"\xe9v\xe9nements-personnalis\xe9s",children:"\xc9v\xe9nements personnalis\xe9s"}),"\n",(0,a.jsx)(n.h3,{id:"communiquer-avec-les-packages-du-m\xeame-c\xf4t\xe9",children:"Communiquer avec les Packages du m\xeame c\xf4t\xe9"}),"\n",(0,a.jsx)(n.p,{children:"Custom Events are the easier way to send or receive generic data or information to other packages:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="package-one/Server/Index.lua" showLineNumbers',children:'local my_parameter1 = 123\nlocal my_parameter2 = "hello there"\nlocal my_parameter3 = { important_stuff = "omg!" }\n\nEvents.Call("MyAwesomeEvent", my_parameter1, my_parameter2, my_parameter3)\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="package-two/Server/Index.lua" showLineNumbers',children:'Events.Subscribe("MyAwesomeEvent", function(parameter1, parameter2, parameter3)\n    Console.Log("Received " .. parameter1) -- Received 123\n    Console.Log("Received " .. parameter2) -- Received hello there\n    Console.Log("Received " .. parameter3) -- Re\xe7u: tableau\nend)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"envoi-de-donn\xe9es-via-le-r\xe9seau",children:"Envoi de donn\xe9es via le r\xe9seau"}),"\n",(0,a.jsx)(n.p,{children:"Sending information through the network is not different from sending in the same side:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="Server/Index.lua" showLineNumbers',children:'local my_parameter1 = "cool data from network"\n\n-- Envoyez cet \xe9v\xe9nement \xe0 tous les joueurs\nEvents.BroadcastRemote("GetThisFromServer", my_parameter1)\n\nlocal player_02 = GetPlayerSomehow()\n\n-- Ou envoyez cet \xe9v\xe9nement \xe0 un joueur sp\xe9cifique\nEvents.CallRemote("GetThisFromServer", player_02, my_parameter1)\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="Client/Index.lua" showLineNumbers',children:'Events.SubscribeRemote("GetThisFromServer", function(parameter1, parameter2, parameter3)\n    Console.Log("Received " .. parameter1) -- Re\xe7u: "cool data from network"\nend)\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["For more information and examples about using Custom Events, please refer to ",(0,a.jsx)(n.a,{href:"/fr/docs/scripting-reference/static-classes/events",children:"Events"}),"."]})}),"\n",(0,a.jsx)(n.h2,{id:"exporting-variables-globally",children:"Exporting Variables Globally"}),"\n",(0,a.jsxs)(n.p,{children:["Another way of communicating is using ",(0,a.jsx)(t,{type:"StaticClass",class_name:"Package",method:"Export",is_static:!0,show_class_name:!0})," method, it allows exposing variables (tables, functions, etc) globally so all other Packages can access it directly."]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"Unlike events, exported functions can return values to the caller. But exported functions are only available to the same side (Server or Client)."})}),"\n",(0,a.jsx)(n.h3,{id:"exportation-dune-fonction",children:"Exportation d'une Fonction"}),"\n",(0,a.jsx)(n.p,{children:"With that, you can export functions for example, like that:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="package-one/Server/Index.lua" showLineNumbers',children:'-- D\xe9finit une fonction que vous voulez exporter\nfunction SpawnCoolWeapon(location, rotation)\n    local cool_weapon = Weapon(location or Vector(), rotation or Rotator(), ...)\n    return cool_weapon\nend\n\n-- Exports the function to be called by other Packages\nPackage.Export("SpawnCoolWeapon", SpawnCoolWeapon)\n'})}),"\n",(0,a.jsx)(n.p,{children:"You can even export a whole table containing functions for example, to work as a library:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="package-one/Server/Index.lua" showLineNumbers',children:'-- Defines a table with functions which you want to export\nMyAwesomeLibrary = {\n    CoolMethod = function(a, b)\n        return a + b\n    end,\n    AnotherAwesomeImportantMethod = function(c, d)\n        return c * d\n    end\n}\n\n-- Exports the table to be accessed by other Packages\nPackage.Export("MyAwesomeLibrary", MyAwesomeLibrary)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"appel-dune-fonction-export\xe9e-depuis-un-autre-package",children:"Appel d'une Fonction Export\xe9e depuis un autre Package"}),"\n",(0,a.jsx)(n.p,{children:"Now you can access that directly from other packages:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="package-two/Server/Index.lua" showLineNumbers',children:"-- Calls the exported function\nlocal cool_weapon = SpawnCoolWeapon(Vector(), Rotator())\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="package-two/Server/Index.lua" showLineNumbers',children:"-- Calls the exported table\nlocal awesome_result = MyAwesomeLibrary.CoolMethod(123, 456)\n"})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var o=t(96540);const a={},r=o.createContext(a);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);