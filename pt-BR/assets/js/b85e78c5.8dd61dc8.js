"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[9770],{28453:(e,r,a)=>{a.d(r,{R:()=>o,x:()=>i});var n=a(96540);const s={},t=n.createContext(s);function o(e){const r=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(t.Provider,{value:r},e.children)}},82589:(e,r,a)=>{a.d(r,{A:()=>n});const n=a.p+"assets/images/loading-screen-cb28559615ffd1f2db10366c83d588a8.webp"},96250:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"core-concepts/packages/loading-screen","title":"Tela de carregamento","description":"Tela de carregamento personalizada para seus servidores","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/version-latest/core-concepts/packages/loading-screen.md","sourceDirName":"core-concepts/packages","slug":"/core-concepts/packages/loading-screen","permalink":"/pt-BR/docs/core-concepts/packages/loading-screen","draft":false,"unlisted":false,"editUrl":"https://crowdin.com/project/nanos-world-docs/pt-BR","tags":[{"inline":true,"label":"script","permalink":"/pt-BR/docs/tags/script"},{"inline":true,"label":"ui","permalink":"/pt-BR/docs/tags/ui"},{"inline":true,"label":"webui","permalink":"/pt-BR/docs/tags/webui"},{"inline":true,"label":"packages","permalink":"/pt-BR/docs/tags/packages"}],"version":"latest","lastUpdatedBy":null,"lastUpdatedAt":null,"sidebarPosition":1,"frontMatter":{"title":"Tela de carregamento","description":"Tela de carregamento personalizada para seus servidores","sidebar_position":1,"tags":["script","ui","webui","packages"],"keywords":["loading","screen","package","html","webui"]},"sidebar":"main","previous":{"title":"C Module","permalink":"/pt-BR/docs/core-concepts/packages/c-module"},"next":{"title":"Compatibility Versions","permalink":"/pt-BR/docs/core-concepts/packages/compatibility-versions"}}');var s=a(74848),t=a(28453);const o={title:"Tela de carregamento",description:"Tela de carregamento personalizada para seus servidores",sidebar_position:1,tags:["script","ui","webui","packages"],keywords:["loading","screen","package","html","webui"]},i=void 0,l={},d=[{value:"Criando uma tela de carregamento",id:"criando-uma-tela-de-carregamento",level:2},{value:"Obtendo Carregamento/Download em Progresso",id:"obtendo-carregamentodownload-em-progresso",level:3},{value:"Evento <code>Atualiza\xe7\xe3o da tela</code>",id:"evento-atualiza\xe7\xe3o-da-tela",level:4},{value:"Player Information",id:"player-information",level:3},{value:"Stop Menu Music",id:"stop-menu-music",level:3},{value:"Configurar seu servidor para usar a tela de carregamento",id:"configurar-seu-servidor-para-usar-a-tela-de-carregamento",level:2}];function c(e){const r={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components},{Classes:n}=r;return n||g("Classes",!1),n.WebUI||g("Classes.WebUI",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:["In nanos world it is possible to add a customized and dynamic Loading Screen to your Server using ",(0,s.jsx)(n.WebUI,{}),"."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{src:a(82589).A+"",width:"1919",height:"1079"})}),"\n",(0,s.jsx)(r.h2,{id:"criando-uma-tela-de-carregamento",children:"Criando uma tela de carregamento"}),"\n",(0,s.jsxs)(r.p,{children:["Para isso, voc\xea precisar\xe1 criar um novo pacote do tipo ",(0,s.jsx)(r.a,{href:"#package-types",children:"carregando tela"}),", e adicione seus arquivos HTML/CSS/JS na pasta raiz do pacote. Seu arquivo HTML principal deve ser chamado de ",(0,s.jsx)(r.code,{children:"index.html"}),". Vai se parecer com isso:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-folder-structure",children:"Packages/\n\u2514\u2500\u2500 my-loading-screen/\n    \u251c\u2500\u2500 Package.toml\n    \u251c\u2500\u2500 index.html\n    \u251c\u2500\u2500 style.css\n    \u2514\u2500\u2500 ...\n"})}),"\n",(0,s.jsx)(r.h3,{id:"obtendo-carregamentodownload-em-progresso",children:"Obtendo Carregamento/Download em Progresso"}),"\n",(0,s.jsxs)(r.p,{children:["Para ser capaz de exibir informa\xe7\xf5es din\xe2micas na tela, voc\xea pode ouvir o evento ",(0,s.jsx)(r.code,{children:"Atualiza\xe7\xe3o de tela"})," (que ir\xe1 acionar a cada alguns ms):"]}),"\n",(0,s.jsxs)(r.h4,{id:"evento-atualiza\xe7\xe3o-da-tela",children:["Evento ",(0,s.jsx)(r.code,{children:"Atualiza\xe7\xe3o da tela"})]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{style:{textAlign:"left"},children:"Parameter"}),(0,s.jsx)(r.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{style:{textAlign:"left"},children:(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"Mensagem"})})}),(0,s.jsx)(r.td,{style:{textAlign:"left"},children:"Exibir o estado atual (carregando, validando, baixando...)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{style:{textAlign:"left"},children:(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"mensagem_secund\xe1ria"})})}),(0,s.jsx)(r.td,{style:{textAlign:"left"},children:"Exibir o arquivo/conte\xfado atual a ser carregado ou baixado"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{style:{textAlign:"left"},children:(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"progresso_pequeno"})})}),(0,s.jsx)(r.td,{style:{textAlign:"left"},children:"Progresso pequeno atual"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{style:{textAlign:"left"},children:(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"progresso_pequeno_total"})})}),(0,s.jsx)(r.td,{style:{textAlign:"left"},children:"Progresso m\xe1ximo pequeno"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{style:{textAlign:"left"},children:(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"Progresso"})})}),(0,s.jsx)(r.td,{style:{textAlign:"left"},children:"Progresso atual"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{style:{textAlign:"left"},children:(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"progresso_total"})})}),(0,s.jsx)(r.td,{style:{textAlign:"left"},children:"Valor m\xe1ximo do progresso"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{style:{textAlign:"left"},children:(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"est\xe1gio_atual"})})}),(0,s.jsxs)(r.td,{style:{textAlign:"left"},children:["A etapa atual da carga (",(0,s.jsx)(r.code,{children:"carregando"}),", ",(0,s.jsx)(r.code,{children:"baixando"}),")"]})]})]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",metastring:'title="Packages/my-loading-screen/index.js" showLineNumbers',children:'Events.Subscribe("UpdateScreen", function(mensagem, message_secondary, progress_small, progress_small_total, progress, progress_total, current_stage) {\n    // Atualize seu HTML aqui\n});\n'})}),"\n",(0,s.jsx)(r.admonition,{type:"tip",children:(0,s.jsxs)(r.p,{children:["You can use ",(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"progress"})})," and ",(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"progress_total"})})," for filling up the main loading bar, and ",(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"progress_small"})})," for a small/sub loading bar."]})}),"\n",(0,s.jsx)(r.admonition,{type:"info",children:(0,s.jsxs)(r.p,{children:["Sempre usar ",(0,s.jsx)(r.code,{children:"de progresso / progress_total"})," para obter a porcentagem atual ",(0,s.jsx)(r.code,{children:"%"})," , como progresso_total pode representar a quantidade total de arquivos que est\xe3o sendo baixados, por exemplo."]})}),"\n",(0,s.jsx)(r.h3,{id:"player-information",children:"Player Information"}),"\n",(0,s.jsxs)(r.p,{children:["Also, it is possible to fetch Player\u2019s information by accessing a global variable called ",(0,s.jsx)(r.code,{children:"LoadingScreen"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"var LoadingScreen = {\n    server: {\n        ip,\n        port,\n        name,\n        description,\n    },\n    player: {\n        nanos_id,\n        nanos_username,\n        steam_id,\n    }\n}\n"})}),"\n",(0,s.jsx)(r.admonition,{type:"tip",children:(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.code,{children:"LoadingScreen"})," var is only available a few frames after the Loading Screen browser is created."]})}),"\n",(0,s.jsx)(r.h3,{id:"stop-menu-music",children:"Stop Menu Music"}),"\n",(0,s.jsx)(r.p,{children:"It is possible to turn off the built-in menu music by calling an event from Loading Screen JS:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",metastring:'title="Packages/my-loading-screen/index.js" showLineNumbers',children:'Events.Call("StopMenuMusic")\n'})}),"\n",(0,s.jsx)(r.h2,{id:"configurar-seu-servidor-para-usar-a-tela-de-carregamento",children:"Configurar seu servidor para usar a tela de carregamento"}),"\n",(0,s.jsx)(r.admonition,{title:"Note",type:"warning",children:(0,s.jsxs)(r.p,{children:["Currently Loading Screens only work in ",(0,s.jsx)(r.strong,{children:"Dedicated Servers"}),".",(0,s.jsx)("br",{})," Make sure you configure your server's Config.toml as ",(0,s.jsx)(r.code,{children:"dedicated_server = true"}),"."]})}),"\n",(0,s.jsxs)(r.p,{children:["After creating your loading-screen package, you will need to configure your server to load it in your ",(0,s.jsx)(r.a,{href:"/pt-BR/docs/core-concepts/server-manual/server-configuration#server-configuration-file",children:"Config.toml"}),". Basta definir a configura\xe7\xe3o ",(0,s.jsx)(r.code,{children:"loading_screen"})," para o nome da pasta do seu pacote."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-toml",metastring:'title="Server/Config.toml"',children:'# pacote de carregamento da tela para carregar (a tela de carregamento ser\xe1 exibida quando os jogadores entrarem no servidor)\ncarregando_tela = "minha-carregando-tela"\n'})}),"\n",(0,s.jsxs)(r.p,{children:["Or start it with ",(0,s.jsx)(r.code,{children:'--loading_screen "my-loading-screen"'}),"."]})]})}function p(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}function g(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);