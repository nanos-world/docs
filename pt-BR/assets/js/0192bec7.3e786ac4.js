"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[6386],{28453:(e,o,n)=>{n.d(o,{R:()=>s,x:()=>i});var a=n(96540);const t={},r=a.createContext(t);function s(e){const o=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(r.Provider,{value:o},e.children)}},36754:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"core-concepts/scripting/communicating-between-packages","title":"Comunica\xe7\xe3o de pacotes","description":"Tudo o que voc\xea precisa saber para se comunicar entre pacotes diferentes","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/core-concepts/scripting/communicating-between-packages.md","sourceDirName":"core-concepts/scripting","slug":"/core-concepts/scripting/communicating-between-packages","permalink":"/pt-BR/docs/next/core-concepts/scripting/communicating-between-packages","draft":false,"unlisted":false,"editUrl":"https://crowdin.com/project/nanos-world-docs/pt-BR","tags":[{"inline":true,"label":"script","permalink":"/pt-BR/docs/next/tags/script"}],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Comunica\xe7\xe3o de pacotes","description":"Tudo o que voc\xea precisa saber para se comunicar entre pacotes diferentes","sidebar_position":3,"tags":["script"]},"sidebar":"main","previous":{"title":"Conceitos de Autoridade","permalink":"/pt-BR/docs/next/core-concepts/scripting/authority-concepts"},"next":{"title":"Valores da entidade","permalink":"/pt-BR/docs/next/core-concepts/scripting/entity-values"}}');var t=n(74848),r=n(28453);const s={title:"Comunica\xe7\xe3o de pacotes",description:"Tudo o que voc\xea precisa saber para se comunicar entre pacotes diferentes",sidebar_position:3,tags:["script"]},i=void 0,c={},l=[{value:"Eventos Personalizados",id:"eventos-personalizados",level:2},{value:"Comunica\xe7\xe3o com pacotes do mesmo lado",id:"comunica\xe7\xe3o-com-pacotes-do-mesmo-lado",level:3},{value:"Enviando dados atrav\xe9s da rede",id:"enviando-dados-atrav\xe9s-da-rede",level:3},{value:"Exporting Variables Globally",id:"exporting-variables-globally",level:2},{value:"Exportando uma fun\xe7\xe3o",id:"exportando-uma-fun\xe7\xe3o",level:3},{value:"Chamando uma fun\xe7\xe3o exportada de outro pacote",id:"chamando-uma-fun\xe7\xe3o-exportada-de-outro-pacote",level:3}];function d(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components},{MethodReference:n}=o;return n||function(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("MethodReference",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.p,{children:"Tudo o que voc\xea precisa saber para se comunicar entre pacotes diferentes"}),"\n",(0,t.jsxs)(o.p,{children:["In nanos world there are 2 main ways which you can interact with other ",(0,t.jsx)(o.strong,{children:"Packages"}),". Nesta p\xe1gina vamos explicar em detalhes como fazer isso."]}),"\n",(0,t.jsx)(o.h2,{id:"eventos-personalizados",children:"Eventos Personalizados"}),"\n",(0,t.jsx)(o.h3,{id:"comunica\xe7\xe3o-com-pacotes-do-mesmo-lado",children:"Comunica\xe7\xe3o com pacotes do mesmo lado"}),"\n",(0,t.jsx)(o.p,{children:"Custom Events are the easier way to send or receive generic data or information to other packages:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-lua",metastring:'title="package-one/Server/Index.lua" showLineNumbers',children:'local meu_parameter1 = 123\nlocal meu_parameter2 = "ol\xe1 l\xe1"\nlocal meu_par\xe2metroter3 = { important_stuff = "omg!" }\n\nEventos.Call("MyAwesomeEvent", meu_parameter1, meu_par\xe2metroter2, meu_parameter3)\n'})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-lua",metastring:'title="package-two/Server/Index.lua" showLineNumbers',children:'Events.Subscribe("MyAwesomeEvent", function(parameter1, parameter2, parameter3)\n    Console.Log("Received " .. parameter1) -- Received 123\n    Console.Log("Received " .. parameter2) -- Received hello there\n    Console.Log("Received " .. par\xe2metro3) -- Tabela recebida\nfim)\n'})}),"\n",(0,t.jsx)(o.h3,{id:"enviando-dados-atrav\xe9s-da-rede",children:"Enviando dados atrav\xe9s da rede"}),"\n",(0,t.jsx)(o.p,{children:"Sending information through the network is not different from sending in the same side:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-lua",metastring:'title="Server/Index.lua" showLineNumbers',children:'local my_parameter1 = "dados legais da rede"\n\n-- Chame este evento para todos os jogadores\neventos. roadcastRemote("GetThisFromServer", my_parameter1)\n\nplayer_02 = GetPlayerSomehow()\n\n-- Ou chame este evento para um jogador espec\xedfico\nEventos.CallRemote("GetThisFromServer", player_02, meu_par\xe2metroter1)\n'})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-lua",metastring:'title="Client/Index.lua" showLineNumbers',children:'Events.SubscribeRemote("GetThisFromServer", function(parameter1, parameter2, parameter3)\n    Console.Log("Received " .. par\xe2metro 1) -- Dados legais recebidos da rede\nfim)\n'})}),"\n",(0,t.jsx)(o.admonition,{type:"tip",children:(0,t.jsxs)(o.p,{children:["For more information and examples about using Custom Events, please refer to ",(0,t.jsx)(o.a,{href:"/pt-BR/docs/next/scripting-reference/static-classes/events",children:"Events"}),"."]})}),"\n",(0,t.jsx)(o.h2,{id:"exporting-variables-globally",children:"Exporting Variables Globally"}),"\n",(0,t.jsxs)(o.p,{children:["Another way of communicating is using ",(0,t.jsx)(n,{type:"StaticClass",class_name:"Package",method:"Export",is_static:!0,show_class_name:!0})," method, it allows exposing variables (tables, functions, etc) globally so all other Packages can access it directly."]}),"\n",(0,t.jsx)(o.admonition,{type:"info",children:(0,t.jsx)(o.p,{children:"Unlike events, exported functions can return values to the caller. But exported functions are only available to the same side (Server or Client)."})}),"\n",(0,t.jsx)(o.h3,{id:"exportando-uma-fun\xe7\xe3o",children:"Exportando uma fun\xe7\xe3o"}),"\n",(0,t.jsx)(o.p,{children:"With that, you can export functions for example, like that:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-lua",metastring:'title="package-one/Server/Index.lua" showLineNumbers',children:'-- Defines a function which you want to export\nfunction SpawnCoolWeapon(location, rotation)\n    local cool_weapon = Weapon(location or Vector(), rotation or Rotator(), ...)\n    return cool_weapon\nend\n\n-- Exports the function to be called by other Packages\nPackage.Export("SpawnCoolWeapon", SpawnCoolWeapon)\n'})}),"\n",(0,t.jsx)(o.p,{children:"You can even export a whole table containing functions for example, to work as a library:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-lua",metastring:'title="package-one/Server/Index.lua" showLineNumbers',children:'-- Defines a table with functions which you want to export\nMyAwesomeLibrary = {\n    CoolMethod = function(a, b)\n        return a + b\n    end,\n    AnotherAwesomeImportantMethod = function(c, d)\n        return c * d\n    end\n}\n\n-- Exports the table to be accessed by other Packages\nPackage.Export("MyAwesomeLibrary", MyAwesomeLibrary)\n'})}),"\n",(0,t.jsx)(o.h3,{id:"chamando-uma-fun\xe7\xe3o-exportada-de-outro-pacote",children:"Chamando uma fun\xe7\xe3o exportada de outro pacote"}),"\n",(0,t.jsx)(o.p,{children:"Now you can access that directly from other packages:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-lua",metastring:'title="package-two/Server/Index.lua" showLineNumbers',children:"-- Calls the exported function\nlocal cool_weapon = SpawnCoolWeapon(Vector(), Rotator())\n"})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-lua",metastring:'title="package-two/Server/Index.lua" showLineNumbers',children:"-- Calls the exported table\nlocal awesome_result = MyAwesomeLibrary.CoolMethod(123, 456)\n"})})]})}function p(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);