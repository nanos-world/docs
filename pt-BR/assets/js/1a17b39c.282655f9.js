"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[5132],{6e3:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>d});var n=s(35386),a=s(74848),o=s(28453);const i={slug:"june-2023",title:"Jun: VehicleWater, Smooth Net Sync!",authors:"gtnardy",tags:["updates"],image:"/img/blog/2023-june/june-news.webp"},r=void 0,l={authorsImageUrls:[void 0]},d=[{value:"New Class: VehicleWater",id:"new-class-vehiclewater",level:2},{value:"Renamed Vehicle Class",id:"renamed-vehicle-class",level:2},{value:"ADK Assets.toml Generator",id:"adk-assetstoml-generator",level:2},{value:"Default Assets Category",id:"default-assets-category",level:2},{value:"Attached Mesh Bounds",id:"attached-mesh-bounds",level:2},{value:"Smoother Network Sync",id:"smoother-network-sync",level:2},{value:"Updated CEF",id:"updated-cef",level:2},{value:"Lots of Bug Fixes",id:"lots-of-bug-fixes",level:2},{value:"Conclusion",id:"conclusion",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Classes:n,MediaLegend:i,VideoExternal:r}=t;return n||u("Classes",!1),n.VehicleWater||u("Classes.VehicleWater",!0),i||u("MediaLegend",!0),r||u("VideoExternal",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"VehicleWater, Smooth Network Sync, CEF Updated, Assets.toml Generator and more!"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:s(58662).A+"",width:"800",height:"320"})}),"\n",(0,a.jsx)(t.p,{children:"Tune in for a roundup of the latest updates from June!"}),"\n",(0,a.jsx)(t.h2,{id:"new-class-vehiclewater",children:"New Class: VehicleWater"}),"\n",(0,a.jsxs)(t.p,{children:["We are proud to introduce our new Class: ",(0,a.jsx)(n.VehicleWater,{}),"! this is still a bare minimum concept class, but with the main feature working: Driving over Water with all the usual Vehicle capabilities!"]}),"\n",(0,a.jsx)(t.p,{children:"This new VehicleWater class works like the Vehicle class, supporting adding custom doors, tweaking it's power and having Characters entering doors and attaching to a specific position for each door. All Vehicle events of characters entering/leaving work as well!"}),"\n",(0,a.jsx)(r,{path:"/blog/2023-june/boat-01.webm"}),"\n",(0,a.jsx)(i,{children:"VehicleWater concept class piloting"}),"\n",(0,a.jsx)(t.p,{children:"It procedurally generates the physics pontoons needed to float properly over the Water!"}),"\n",(0,a.jsx)(r,{path:"/blog/2023-june/boat-02.webm"}),"\n",(0,a.jsx)(i,{children:"VehicleWater concept class piloting interacting with waves"}),"\n",(0,a.jsx)(t.p,{children:"I still want to keep improving this new Class, as well add new animations to the Character. I also did some tests integrating Unreal's Water foaming but it required a lot of hacky solutions that weren't scalable, this is something I will keep working on to try to bring the best visuals as possible!"}),"\n",(0,a.jsx)(t.p,{children:"Please provide us feedback and suggestions so we can keep improving and adding new features to this new class!"}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.em,{children:"Wast3d, enjoy \ud83d\ude4f"})})}),"\n",(0,a.jsx)(t.h2,{id:"renamed-vehicle-class",children:"Renamed Vehicle Class"}),"\n",(0,a.jsxs)(t.p,{children:["With the addition of the new ",(0,a.jsx)(n.VehicleWater,{})," Class, we are renaming the old ",(0,a.jsx)(t.code,{children:"Vehicle"})," class to ",(0,a.jsx)(t.code,{children:"VehicleWheeled"}),", this way we will open the doors for having multiple types of Vehicles (in the future being able to have Air, Plane, Helicopter vehicles types too)."]}),"\n",(0,a.jsxs)(t.p,{children:["The scripts using Vehicle just got warnings when using the old ",(0,a.jsx)(t.code,{children:"Vehicle"})," name."]}),"\n",(0,a.jsx)(t.h2,{id:"adk-assetstoml-generator",children:"ADK Assets.toml Generator"}),"\n",(0,a.jsxs)(t.p,{children:["With the latest month update of ",(0,a.jsx)(t.a,{href:"/blog/may-2023#assets-meta-data",children:"Assets Metadata"}),", we are now able to include custom data for each asset in our Asset Pack."]}),"\n",(0,a.jsx)(t.p,{children:"So we improved our ADK's Assets.toml Generator to also optionally include the Bounds information for all Static Meshes:"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:s(7907).A+"",width:"1005",height:"602"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-toml",metastring:"title=Assets.toml",children:'[assets.static_meshes]\n    SM_Cube = { path = "Meshes/SM_Cube", bounds = { origin = "Vector(0.000, 0.000, 0.000)", box_extent = "Vector(50.000, 50.000, 50.000)", sphere_radius = 86.602539 } }\n'})}),"\n",(0,a.jsx)(t.p,{children:"This can be accessed through scripting like (on server side!!):"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-lua",metastring:"title=Server/Index.lua",children:'for _, asset in pairs(Assets.GetStaticMeshes("nanos-world")) do\n    local bounds = asset.bounds\n    Console.Log(bounds.origin) -- Vector(0.000, 0.000, 0.000)\n    Console.Log(bounds.box_extent) -- Vector(50.000, 50.000, 50.000)\n    Console.Log(bounds.sphere_radius) -- 86.602539\nend\n'})}),"\n",(0,a.jsx)(t.h2,{id:"default-assets-category",children:"Default Assets Category"}),"\n",(0,a.jsxs)(t.p,{children:["Also our Default Asset Pack got categorized! A new ",(0,a.jsx)(t.a,{href:"/docs/next/core-concepts/assets#asset-meta-data",children:"metadata"})," ",(0,a.jsx)(t.code,{children:"category"})," was added to most of the built-in assets, and can be get like this:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-lua",metastring:"title=Index.lua",children:'for _, asset in pairs(Assets.GetStaticMeshes("nanos-world")) do\n    Console.Log(asset.category) -- e.g. "furniture"\nend\n'})}),"\n",(0,a.jsx)(t.p,{children:"This replaces the old way Sandbox was doing to categorize the assets, before having a hardcoded Lua file with all assets in a table pointing to a category, now it supports you creating your custom Asset Pack and add the category MetaData to it to be integrated with the Sandbox convention!"}),"\n",(0,a.jsx)(t.h2,{id:"attached-mesh-bounds",children:"Attached Mesh Bounds"}),"\n",(0,a.jsx)(t.p,{children:"We got some changes on Attached Mesh methods, now they allow defining if it will use parent bounds or not when being attached. They got a new last parameter:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-lua",children:'character:AddStaticMeshAttached("hair", "nanos-world::SM_Hair_Long", "hair_male", true)\ncharacter:AddSkeletalMeshAttached("tie", "nanos-world::SK_Tie", false)\n'})}),"\n",(0,a.jsx)(t.p,{children:"This fixes some cases when an attached mesh keeps flickering when it is attached to an entity with a smaller/tiny base mesh."}),"\n",(0,a.jsx)(t.h2,{id:"smoother-network-sync",children:"Smoother Network Sync"}),"\n",(0,a.jsx)(t.p,{children:"We got a huge improvement in our netcode related to synchronizing location/rotation snapshots of dynamic actors."}),"\n",(0,a.jsx)(t.p,{children:"You can notice Props, Pickables and Vehicles are now way more fluid when other players are driving or physically interacting with them!"}),"\n",(0,a.jsx)(t.h2,{id:"updated-cef",children:"Updated CEF"}),"\n",(0,a.jsx)(t.p,{children:"We finally managed to update our CEF version to the latest CEF build (114) successfully, we weren't able to do so as it was not working on linux builds due some unknown reason, but finally after almost 1 year without updating, the latest CEF version worked again for Linux users. We are now up to date with the latest optimizations and security builds!"}),"\n",(0,a.jsx)(t.h2,{id:"lots-of-bug-fixes",children:"Lots of Bug Fixes"}),"\n",(0,a.jsx)(t.p,{children:"But besides the news, we also had more than 10 significant bugs fixes and small improvements that have been made."}),"\n",(0,a.jsx)(t.p,{children:"Just to mention a few:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Server side Pickables not returning the real location if are being handled."}),"\n",(0,a.jsx)(t.li,{children:"Server side crashes."}),"\n",(0,a.jsx)(t.li,{children:"Random High Ticks on server due heavy load."}),"\n",(0,a.jsx)(t.li,{children:"JSON parser not converting keys properly"}),"\n",(0,a.jsx)(t.li,{children:"CEF JSON parser not converting to lua arrays properly."}),"\n",(0,a.jsx)(t.li,{children:"Multiple Player Spawn event."}),"\n",(0,a.jsx)(t.li,{children:"Character Physical animation not resetting."}),"\n",(0,a.jsx)(t.li,{children:"And more..."}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["Check the complete list on our ",(0,a.jsx)(t.a,{href:"https://discord.nanos-world.com",children:"Discord's"})," Changelog channel!"]}),"\n",(0,a.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,a.jsx)(t.p,{children:"This was a shorter news blog than the usual as last month I've moved to a new apartment and that resulted in less time focused, but now things are getting back to normal again! \ud83d\ude0e"}),"\n",(0,a.jsx)(t.p,{children:'This VehicleWater Update was something I had been working already for some time at a slow pace, some months ago I\'ve refactored all the systems internally related to Vehicles and Characters interaction to allow more vehicle child types and leave the interaction of "Character" entities with all "Vehicles" more generically and this allowed us to create a new Vehicle class just for Water in a modular way!'}),"\n",(0,a.jsx)(t.p,{children:"Also I will try to dedicate some time to upgrade our Unreal version to the latest UE 5.2, now that Epic released the first hotfix we may be more stable to do that!"}),"\n",(0,a.jsx)(t.p,{children:"Thank you for your time for this another month, your support is immensely important as always!"})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}function u(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},7907:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/adk-04-0969c718313fd97746742d2cf860768c.webp"},28453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>r});var n=s(96540);const a={},o=n.createContext(a);function i(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(o.Provider,{value:t},e.children)}},35386:e=>{e.exports=JSON.parse('{"permalink":"/pt-BR/blog/june-2023","editUrl":"https://crowdin.com/project/nanos-world-docs/pt-BR","source":"@site/i18n/pt-BR/docusaurus-plugin-content-blog/2023-07-12-june.md","title":"Jun: VehicleWater, Smooth Net Sync!","description":"VehicleWater, Smooth Network Sync, CEF Updated, Assets.toml Generator and more!","date":"2023-07-12T00:00:00.000Z","tags":[{"inline":true,"label":"updates","permalink":"/pt-BR/blog/tags/updates"}],"readingTime":4.61,"hasTruncateMarker":true,"authors":[{"name":"Gabriel \u2022 SyedMuhammad","title":"lead developer\u2122","page":{"permalink":"/pt-BR/blog/authors/gtnardy"},"description":"nanos world Lead Developer.","socials":{"x":"https://x.com/gtnardy","github":"https://github.com/gtnardy"},"imageURL":"/pt-BR/img/blog/syed.webp","key":"gtnardy"}],"frontMatter":{"slug":"june-2023","title":"Jun: VehicleWater, Smooth Net Sync!","authors":"gtnardy","tags":["updates"],"image":"/img/blog/2023-june/june-news.webp"},"unlisted":false,"prevItem":{"title":"Jul: Gizmo & Unreal Engine 5.3!","permalink":"/pt-BR/blog/july-2023"},"nextItem":{"title":"May: Widget 3D, Asset Meta Data!","permalink":"/pt-BR/blog/may-2023"}}')},58662:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/june-news-64c1cd44cc2cdfd3dcc431f5c3e1205c.webp"}}]);