"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[66804],{15865:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"core-concepts/packages/loading-screen","title":"Ladebildschirm","description":"Benutzerdefinierter Ladebildschirm f\xfcr Ihren Server","source":"@site/i18n/de/docusaurus-plugin-content-docs/version-latest/core-concepts/packages/loading-screen.md","sourceDirName":"core-concepts/packages","slug":"/core-concepts/packages/loading-screen","permalink":"/de/docs/core-concepts/packages/loading-screen","draft":false,"unlisted":false,"editUrl":"https://crowdin.com/project/nanos-world-docs/de","tags":[{"inline":true,"label":"scripting","permalink":"/de/docs/tags/scripting"},{"inline":true,"label":"ui","permalink":"/de/docs/tags/ui"},{"inline":true,"label":"webui","permalink":"/de/docs/tags/webui"},{"inline":true,"label":"packages","permalink":"/de/docs/tags/packages"}],"version":"latest","lastUpdatedBy":null,"lastUpdatedAt":null,"sidebarPosition":1,"frontMatter":{"title":"Ladebildschirm","description":"Benutzerdefinierter Ladebildschirm f\xfcr Ihren Server","sidebar_position":1,"tags":["scripting","ui","webui","packages"],"keywords":["loading","screen","package","html","webui"]},"sidebar":"main","previous":{"title":"C Module","permalink":"/de/docs/core-concepts/packages/c-module"},"next":{"title":"Compatibility Versions","permalink":"/de/docs/core-concepts/packages/compatibility-versions"}}');var i=s(74848),t=s(28453);const l={title:"Ladebildschirm",description:"Benutzerdefinierter Ladebildschirm f\xfcr Ihren Server",sidebar_position:1,tags:["scripting","ui","webui","packages"],keywords:["loading","screen","package","html","webui"]},d=void 0,a={},c=[{value:"Ladebildschirm erstellen",id:"ladebildschirm-erstellen",level:2},{value:"Abrufen des Lade- und Herunterlade-Fortschritts",id:"abrufen-des-lade--und-herunterlade-fortschritts",level:3},{value:"Ereignis-Codes des <code>UpdateScreen</code>",id:"ereignis-codes-des-updatescreen",level:4},{value:"Player Information",id:"player-information",level:3},{value:"Stop Menu Music",id:"stop-menu-music",level:3},{value:"Konfigurieren Ihres Servers f\xfcr die Nutzung des Ladebildschirms",id:"konfigurieren-ihres-servers-f\xfcr-die-nutzung-des-ladebildschirms",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components},{Classes:r}=n;return r||g("Classes",!1),r.WebUI||g("Classes.WebUI",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["In nanos world it is possible to add a customized and dynamic Loading Screen to your Server using ",(0,i.jsx)(r.WebUI,{}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(82589).A+"",width:"1919",height:"1079"})}),"\n",(0,i.jsx)(n.h2,{id:"ladebildschirm-erstellen",children:"Ladebildschirm erstellen"}),"\n",(0,i.jsxs)(n.p,{children:["Dazu m\xfcssen Sie ein neues Paket vom Typ ",(0,i.jsx)(n.a,{href:"#package-types",children:"loading-screen"})," erstellen und die HTML/CSS/JS-Dateien in das Package Wurzelverzeichnis (Root-Ordner) einf\xfcgen. Ihre prim\xe4re HTML-Datei sollte ",(0,i.jsx)(n.code,{children:"index.html"})," hei\xdfen. Beispielsweise k\xf6nnte dies wie folgt aussehen:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-folder-structure",children:"Packages/\n\u2514\u2500\u2500 my-loading-screen/\n    \u251c\u2500\u2500 Package.toml\n    \u251c\u2500\u2500 index.html\n    \u251c\u2500\u2500 style.css\n    \u2514\u2500\u2500 ...\n"})}),"\n",(0,i.jsx)(n.h3,{id:"abrufen-des-lade--und-herunterlade-fortschritts",children:"Abrufen des Lade- und Herunterlade-Fortschritts"}),"\n",(0,i.jsxs)(n.p,{children:["Um dynamische Informationen auf dem Bildschirm anzeigen zu k\xf6nnen, k\xf6nnen Sie auf das Ereignis ",(0,i.jsx)(n.code,{children:"UpdateScreen"})," reagieren. (Das Ereignis wird alle paar Millisekunden ausgef\xfchrt):"]}),"\n",(0,i.jsxs)(n.h4,{id:"ereignis-codes-des-updatescreen",children:["Ereignis-Codes des ",(0,i.jsx)(n.code,{children:"UpdateScreen"})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Beschreibung"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"message"})})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Aktuellen Status anzeigen (laden, validieren, herunterladen...)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"message_secondary"})})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Zeigt das aktuelle Asset oder die aktuelle Datei, welche geladen oder heruntergeladen wird"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"progress_small"})})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Aktueller kleiner Fortschritt"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"progress_small_total"})})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Maximaler kleiner Fortschritt"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"progress"})})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Aktueller Fortschritt"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"progress_total"})})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Maximaler Fortschrittswert"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"current_stage"})})}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["Die aktuelle Ladephase (laden (",(0,i.jsx)(n.code,{children:"loading"}),"), herunterladen (",(0,i.jsx)(n.code,{children:"downloading"}),"))"]})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="Packages/my-loading-screen/index.js" showLineNumbers',children:'Events.Subscribe("UpdateScreen", function(message, message_secondary, progress_small, progress_small_total, progress, progress_total, current_stage) {\n    // HTML-Aktualisierung hier...\n});\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["You can use ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"progress"})})," and ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"progress_total"})})," for filling up the main loading bar, and ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"progress_small"})})," for a small/sub loading bar."]})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Immer ",(0,i.jsx)(n.code,{children:"Fortschritt / progress_total"})," verwenden, um den aktuellen ",(0,i.jsx)(n.code,{children:"%"})," Prozentsatz zu erhalten, da Progress_total die Gesamtanzahl der heruntergeladenen Dateien darstellen kann."]})}),"\n",(0,i.jsx)(n.h3,{id:"player-information",children:"Player Information"}),"\n",(0,i.jsxs)(n.p,{children:["Also, it is possible to fetch Player\u2019s information by accessing a global variable called ",(0,i.jsx)(n.code,{children:"LoadingScreen"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"var LoadingScreen = {\n    server: {\n        ip,\n        port,\n        name,\n        description,\n    },\n    player: {\n        nanos_id,\n        nanos_username,\n        steam_id,\n    }\n}\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"LoadingScreen"})," var is only available a few frames after the Loading Screen browser is created."]})}),"\n",(0,i.jsx)(n.h3,{id:"stop-menu-music",children:"Stop Menu Music"}),"\n",(0,i.jsx)(n.p,{children:"It is possible to turn off the built-in menu music by calling an event from Loading Screen JS:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="Packages/my-loading-screen/index.js" showLineNumbers',children:'Events.Call("StopMenuMusic")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"konfigurieren-ihres-servers-f\xfcr-die-nutzung-des-ladebildschirms",children:"Konfigurieren Ihres Servers f\xfcr die Nutzung des Ladebildschirms"}),"\n",(0,i.jsx)(n.admonition,{title:"Note",type:"warning",children:(0,i.jsxs)(n.p,{children:["Currently Loading Screens only work in ",(0,i.jsx)(n.strong,{children:"Dedicated Servers"}),".",(0,i.jsx)("br",{})," Make sure you configure your server's Config.toml as ",(0,i.jsx)(n.code,{children:"dedicated_server = true"}),"."]})}),"\n",(0,i.jsxs)(n.p,{children:["After creating your loading-screen package, you will need to configure your server to load it in your ",(0,i.jsx)(n.a,{href:"/de/docs/core-concepts/server-manual/server-configuration#server-configuration-file",children:"Config.toml"}),". Setzen Sie einfach die Einstellung ",(0,i.jsx)(n.code,{children:"loading_screen"})," auf den Ordnernamen Ihres Paketes."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'title="Server/Config.toml"',children:'# Ladebildschirm-Paket (der Ladebildschirm wird angezeigt, wenn die Spieler Ihrem Server beitreten)\nloading_screen = "my-loading-screen"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Or start it with ",(0,i.jsx)(n.code,{children:'--loading_screen "my-loading-screen"'}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}function g(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var r=s(96540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}},82589:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/loading-screen-cb28559615ffd1f2db10366c83d588a8.webp"}}]);